<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/ui.jqgrid.css"/>
    <script src="/js/jquery-3.1.1.min.js"></script>
    <!-- 包括所有已编译的插件 -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.jqGrid.min.js"></script>
</head>
<body>
<ul id="myTab" class="nav nav-tabs">
    <li class="active">
        <a href="#home" data-toggle="tab">
            收费
        </a>
    </li>
    <li><a href="#instore" data-toggle="tab">入库管理</a></li>
    <li><a href="#ios" data-toggle="tab">销售管理</a></li>
    <li><a href="#ios" data-toggle="tab">库存管理</a></li>
    <li><a href="#ios" data-toggle="tab">财务管理</a></li>
    <li><a href="#user" data-toggle="tab">会员管理</a></li>
    <li class="dropdown">
        <a href="#" id="myTabDrop1" class="dropdown-toggle"
           data-toggle="dropdown">更多
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">
            <li><a href="#jmeter" tabindex="-1" data-toggle="tab">退出</a></li>
        </ul>
    </li>
</ul>
<div id="myTabContent" class="tab-content">
    <!--收费开始-->
    <div class="tab-pane fade in active" id="home">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">收费</h3>
            </div>

            <div class="panel-body">
                <div class="row">
                    <div class="span3">
                        <button class="btn btn-info" type="button">打印凭单</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="input-group">
                            <label>商品识别ID</label>
                            <input  type="text" class="form-control"/>
                        </div><!-- /input-group -->
                    </div>
                    <div class="col-lg-4">
                        <div class="input-group">
                            <label>商品单价/元</label>
                            <input type="text" class="form-control"/>
                        </div><!-- /input-group -->
                    </div>
                    <div class="col-lg-4">

                            <label>当前登录会员</label>

                    </div>
                </div>
                <div class="row">
                    <table class="table">
                        <caption>用户购买商品列表</caption>
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>名称</th>
                            <th>单价</th></tr>
                        </thead>
                        <tbody>
                        <tr class="active">
                            <td></td>
                            <td></td>
                            <td></td></tr>
                        <tr class="success">
                            <td></td>
                            <td></td>
                            <td></td></tr>
                        <tr class="warning">
                            <td></td>
                            <td></td>
                            <td></td></tr>
                        <tr class="danger">
                            <td></td>
                            <td></td>
                            <td></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--收费结束-->
    <!--入库开始-->
    <div class="tab-pane fade" id="instore">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">商品入库信息录入</h3>
            </div>
            <div class="panel-body">
                <div class="container-fluid">
                    <div class="row-fluid">
                        <div class="span12">
                            <div class="row-fluid">
                                <div class="span3">
                                </div>
                                <div class="span3">
                                </div>
                                <div class="span3">
                                </div>
                                <div class="span3">
                                    <button class="btn btn-info" type="button" onclick="instore()">入库</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="input-group">
                                <label>商品识别Id</label>
                                <input id="idetifyID" type="text" class="form-control"/>
                            </div><!-- /input-group -->
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group">
                                <label>商品名称</label>
                                <input id="name" type="text" class="form-control"/>
                            </div><!-- /input-group -->
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group">
                                <label>商品单价/元</label>
                                <input id="price" type="text" class="form-control"/>
                            </div><!-- /input-group -->
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group">
                                <label>入库数量</label>
                                <input id="instoreNum" type="text" class="form-control"/>
                            </div><!-- /input-group -->
                        </div>
                        <div class="col-lg-4">
                            <div class="input-group">
                                <label>入库商品分类</label>
                                <select id="goodstype" name="goodstype" class="selectpicker show-tick form-control">
                                    <option value="0">休闲食品</option>
                                    <option value="1">饼干糕点</option>
                                    <option value="2">糖果</option>
                                    <option value="3">冲调食品</option>
                                    <option value="4">散货食品</option>
                                    <option value="5">文化办公</option>
                                    <option value="6">体育娱乐</option>
                                    <option value="7">图书音像</option>
                                    <option value="8">五金交电</option>
                                    <option value="9">熟食素食</option>
                                    <option value="9">冻品类</option>
                                </select>
                            </div><!-- /input-group -->
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="tab-pane fade" id="jmeter">
        <p>jMeter 是一款开源的测试软件。它是 100% 纯 Java 应用程序，用于负载和性能测试。</p>
    </div>
    <div class="tab-pane fade" id="user">
        <div class="row">
        <div class="col-lg-4">
            <div class="input-group">
                <label>会员编号</label>
                <input type="text" class="form-control"/>
            </div><!-- /input-group -->

        </div>

                <table id="userlist"></table>
                <div id="pager"></div>

        </div>


    </div>
    <div class="panel-footer">面板脚注</div>
</div>
<script>
    jQuery("#userlist").jqGrid({

        url: 'http://127.0.0.1:8888/userList',

        datatype: "json",

        mtype: 'GET',

        colNames: ['用户ID', '积分', '状态', '开户时间'],

        colModel: [

            { name: 'userID', index: 'userID', width: 40, align: "left", editable: true },

            { name: 'score', index: 'score', width: 100, align: "center" },

            { name: 'status', index: 'status', width: 100, align: "center" },

            { name: 'creatTime', index: 'creatTime', width: 150, align: "center", search: false }

        ],

        rowList: [10, 20, 30],

        sortname: 'userID',

        viewrecords: true,

        sortorder: "desc",
        jsonReader: {

            root: "griddata",

            total: "totalpages",

            page: "currpage",

            records: "totalrecords",

            repeatitems: false

        },

        pager: jQuery('#pager'),

        rowNum: 5,

        altclass: 'altRowsColour',

//width: 'auto',

        width: '1000',

        height: 'auto',
        caption: "用户一栏"}).navGrid('#pager', { add: true, edit: true, del: true,search:false,refresh:false });
    /*$(document).ready(function () {
        $('ul.nav > li').click(function (e) {
            e.preventDefault();
            $('ul.nav > li').removeClass('active');
            $(this).addClass('active');

        });

    });*/
</script>
<script>
    function instore() {
        var idetifyID=$("#idetifyID").val();
        var name=$("#name").val();
        var price=$("#price").val();
        var instoreNum=$("#instoreNum").val();
        var goodstype=$("#goodstype").find("option:selected").text();
        if(idetifyID==""||name==""||price==""||instoreNum==""||goodstype==""){
            alert("请确认提交的信息的完整性！")
            return;
        }
        $.ajax({
            type: "post",
            url: '/instore',
            data: {idetifyID:idetifyID,name:name,price:price,instoreNum:instoreNum,goodstype:goodstype},
            success: function (data) {
                if (data != "") {

                    $("#idetifyID").val("");
                    var name=$("#name").val("");
                    var price=$("#price").val("");
                    var instoreNum=$("#instoreNum").val("");
                    alert("入库成功");
                }
            }
        });
    }
</script>
</body>

</html>